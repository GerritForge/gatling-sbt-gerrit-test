{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1978823e_b5e3e816",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1020920
      },
      "writtenOn": "2023-10-27T14:58:44Z",
      "side": 1,
      "message": "I have tested this locally but I\u0027d like to give it a go on the CI as well before giving V+1",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5dd16c04_15dc7a3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1020779
      },
      "writtenOn": "2023-10-30T10:53:11Z",
      "side": 1,
      "message": "LGTM, two nits and one question. As soon the question is answered, the +1 is on your side.",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3bc3e4cf_59c33b38",
        "filename": "src/test/scala/gerritforge/GerritRestSimulation.scala",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1020779
      },
      "writtenOn": "2023-10-30T10:53:11Z",
      "side": 1,
      "message": "Why do you remove `anonymousScenarios` from the list?",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8c87aab_e7ffc930",
        "filename": "src/test/scala/gerritforge/GerritRestSimulation.scala",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1020920
      },
      "writtenOn": "2023-10-30T11:11:54Z",
      "side": 1,
      "message": "because I\u0027m an idiot and forgot to restore it when I finished testing locally. Good catch!",
      "parentUuid": "3bc3e4cf_59c33b38",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbb92eb7_b0eed8ab",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1020920
      },
      "writtenOn": "2023-10-27T14:58:44Z",
      "side": 1,
      "message": "this threshold is open to suggestions, the thinking here is that the smaller the number the more delete requests we will generate.",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03eded99_02910883",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1005963
      },
      "writtenOn": "2023-10-30T08:48:20Z",
      "side": 1,
      "message": "Out of curiousity, have you tried with a small number if no tags are left in the repository after the execution of this scenario ? \n\nAn alternative would be to make this number random within a range, so that we also test deletion of a large number of tags.",
      "parentUuid": "bbb92eb7_b0eed8ab",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "951d3536_e2447a34",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1020920
      },
      "writtenOn": "2023-10-30T10:15:23Z",
      "side": 1,
      "message": "\u003e Out of curiousity, have you tried with a small number if no tags are left in the repository after the execution of this scenario ?\n\nI think its inevitable that some tags will be left, because the test will terminate when the duration is reached, and by that time surely the number of existing tags for at least one user will be below the threshold and hence not deleted. I guess if the threshold is set to 1 then the chances of leaving any \"leftover\" tags is reduced significantly. But leaving tags is not an issue, because they will be deleted on the next test run.\n\n\u003e An alternative would be to make this number random within a range, so that we also test deletion of a large number of tags.\n\nYes, but how large is a \"large number of tags\" and do you have an idea for the range? Keep in mind that in order to accumulate a lot of tags for a user, say 100 or 200, and to be able to execute multiple such tag-delete requests, then the test will need to run for a long period of time - which currently is not the case on the CI (tests run for 2 mins by default).",
      "parentUuid": "03eded99_02910883",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "256edb9d_80b4eb38",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1005963
      },
      "writtenOn": "2023-10-30T10:30:05Z",
      "side": 1,
      "message": "\u003e Yes, but how large is a \"large number of tags\" and do you have an idea for the range?\n\nNot sure tbh. Missing some backround information on why we added this test in the first place. I believe it was introduced to check that the delete-tags is working properly because it was creating some problems with some clients. Maybe @danielesassoli@gmail.com knows?",
      "parentUuid": "951d3536_e2447a34",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc851ffb_9aec3f98",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-10-30T12:04:04Z",
      "side": 1,
      "message": "The number of tags should be configurable. For this change having hardcoded is fine, but we should have a follow-up change that take it from an environment variable.\n\nWe have seen failures with LOCKs when removing hundreds of tags at once.",
      "parentUuid": "256edb9d_80b4eb38",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80ef7320_0c4ea564",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1020779
      },
      "writtenOn": "2023-10-30T10:53:11Z",
      "side": 1,
      "message": "nit: instead of pattern matching, another option could be something similar to: \n```\ntransform(tagsMaybe \u003d\u003e tagsMaybe.fold(throw _, identity))\n```",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fee18c6a_e34d30a5",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1020920
      },
      "writtenOn": "2023-10-30T11:11:54Z",
      "side": 1,
      "message": "personally I find the existing code easier to understand.",
      "parentUuid": "80ef7320_0c4ea564",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9572165_84e81dce",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1020779
      },
      "writtenOn": "2023-10-30T10:53:11Z",
      "side": 1,
      "message": "nit: would this be more readable?:\n```\n.map(_.stripPrefix(\"refs/tags/\"))\n```",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46f23902_ddb76db2",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1020920
      },
      "writtenOn": "2023-10-30T11:11:54Z",
      "side": 1,
      "message": "good catch! This is not only more readable, it is also the right thing to do. the `.drop` will drop 10 chars from the ref, even it doesn\u0027t contain the `refs/tags/` prefix!",
      "parentUuid": "b9572165_84e81dce",
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cbcff80e_e85976ab",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1005963
      },
      "writtenOn": "2023-10-30T08:48:20Z",
      "side": 1,
      "message": "IMHO I would leave this as `delete tags` just to differentiate to the `delete tag` in the CreateAndDeleteTag scenario.",
      "range": {
        "startLine": 62,
        "startChar": 18,
        "endLine": 62,
        "endChar": 46
      },
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9715e9fc_a8b94d12",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1020920
      },
      "writtenOn": "2023-10-30T10:15:23Z",
      "side": 1,
      "message": "isn\u0027t it better to provide a more descriptive name for the operation you are executing? Isn\u0027t it more difficult for the eye to distinguish between `delete tag` and `delete tags` in the gatling output?",
      "parentUuid": "cbcff80e_e85976ab",
      "range": {
        "startLine": 62,
        "startChar": 18,
        "endLine": 62,
        "endChar": 46
      },
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bfd75ca_61da86d5",
        "filename": "src/test/scala/gerritforge/scenarios/rest/tags/CreateAndDeleteMultipleTags.scala",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1005963
      },
      "writtenOn": "2023-10-30T10:30:05Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "9715e9fc_a8b94d12",
      "range": {
        "startLine": 62,
        "startChar": 18,
        "endLine": 62,
        "endChar": 46
      },
      "revId": "08805f9542550c65ca7913db4244bac27a1ea4a6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}